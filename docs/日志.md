# Feature

1. C++ 流式语法
2. 支持七级日志输出，带有颜色高亮
3. 支持 backtrace
4. 双缓冲异步日志



# 性能

测试环境：WSL Ubuntu 18.04 LTS，i5- 8265U，RAM 8G，单线程写入100W条日志

`ostringstream` 非 thread_local 

|                       | /dev/null  | /tmp/log   | ./test_log | ./test_log_mt |
| --------------------- | ---------- | ---------- | ---------- | ------------- |
| 写入字节数（bytes）   | 139888890  | 139888890  | 139888890  | 139888890     |
| 每秒写入条数（msg/s） | 1036435.16 | 1005866.21 | 831328.45  | 848860.40     |
| 吞吐量（MiB/s）       | 138.27     | 134.19     | 110.91     | 113.25        |

`ostringstream` 为 thread_local 

|                       | /dev/null  | /tmp/log   | ./test_log | ./test_log_mt |
| --------------------- | ---------- | ---------- | ---------- | ------------- |
| 写入字节数（bytes）   | 139888890  | 139888890  | 139888890  | 139888890     |
| 每秒写入条数（msg/s） | 1475539.97 | 1346251.97 | 1129420.27 | 1092732.56    |
| 吞吐量（MiB/s）       | 196.85     | 179.60     | 150.67     | 145.78        |

`ostringstream` 对象本身占 366 字节，创建开销很大。声明为 thread_local 之后大幅减少了创建开销，写入速度有 **30 ~ 50%** 提升，虽然比创建固定大小的自定义 LogStream 的性能差些，但是这个速度已经大体上够用，使用 `ostringstream` 省去了自己定义 LogStream 类的繁琐工作。